CREATE TABLE `customer` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`nickname` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '微信昵称',`openid` varchar(32) NOT NULL COMMENT '微信公众号openid',`avatar` varchar(32) NULL COMMENT '微信头像url',`create_time` int(11) NOT NULL DEFAULT 0 COMMENT '创建时间',`update_time` itn NOT NULL DEFAULT 0 COMMENT '修改时间',PRIMARY KEY (`id`) ,)ENGINE = InnoDBDEFAULT CHARACTER SET = utf8COLLATE = utf8_general_ciCOMMENT = '顾客表(存储关注公众号的微信用户信息)';CREATE TABLE `menu` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`name` char(8) NOT NULL COMMENT '菜品名称',`size` char(2) NOT NULL COMMENT '菜品规格',`pic` char(32) NOT NULL COMMENT '菜品图片url',`price` decimal(5,2) NOT NULL COMMENT '菜品价格',`remark` char(20) NULL COMMENT '备注',`create_time` int(11) NOT NULL COMMENT '创建时间',`update_time` int(11) NOT NULL COMMENT '修改时间',PRIMARY KEY (`id`) )COMMENT = '菜单表';CREATE TABLE `desk` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`name` char(5) NOT NULL COMMENT '餐桌名',`capacity` tinyint(1) NOT NULL COMMENT '餐桌容量',`intro` varchar(32) NULL COMMENT '餐桌介绍',`create_time` int(11) NOT NULL DEFAULT 0 COMMENT '创建时间',`update_time` int(11) NOT NULL DEFAULT 0 COMMENT '修改时间',PRIMARY KEY (`id`) )COMMENT = '餐桌表';CREATE TABLE `coupon` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`amount` decimal(3,2) NOT NULL COMMENT '优惠额度',`start_time` int(11) NOT NULL COMMENT '优惠开始时间',`end_time` int(11) NOT NULL COMMENT '优惠结束时间',`create_time` int(11) NOT NULL DEFAULT 0 COMMENT '创建时间',`update_time` int(11) NOT NULL DEFAULT 0 COMMENT '优惠修改时间',`prefix` char(2) NOT NULL COMMENT '优惠号码前缀',`acount` TINYINT(1) NOT NULL COMMENT '优惠券数量',PRIMARY KEY (`id`) )COMMENT = '优惠券管理表';CREATE TABLE `coupon_ticket` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`number` char(10) NULL COMMENT '优惠券号码',`create_time` int(11) NOT NULL DEFAULT 0 COMMENT '创建时间',`update_time` int(11) NOT NULL COMMENT '修改时间',`enable` tinyint(1) NOT NULL COMMENT '是否可用',`cid` int(11) NOT NULL,PRIMARY KEY (`id`) )COMMENT = '优惠券表';CREATE TABLE `order` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`uid` int(11) NOT NULL COMMENT '预约用户id',`dkid` int(11) NOT NULL COMMENT '预约餐桌id',`muid` text CHARACTER SET 预约菜单 NULL COMMENT '菜品id字符串',`create_time` int(11) NOT NULL COMMENT '创建时间',`update_time` int(11) NOT NULL COMMENT '更新时间',`total_price` deciaml NOT NULL COMMENT '总价',`final_price` decimal(6,2) NOT NULL COMMENT '最终价',`person` tinyint(1) NOT NULL COMMENT '用餐人数',`use_time` int(11) NOT NULL COMMENT '用餐时间',`phone` varchar(11) NULL COMMENT '联系电话',PRIMARY KEY (`id`) )COMMENT = '预约表';ALTER TABLE `coupon_ticket` ADD CONSTRAINT `fk_coupon_ticket_coupon_1` FOREIGN KEY (`cid`) REFERENCES `coupon` (`id`);ALTER TABLE `order` ADD CONSTRAINT `foreign_key_uid` FOREIGN KEY (`uid`) REFERENCES `customer` (`id`);ALTER TABLE `order` ADD CONSTRAINT `foreign_key_dkid` FOREIGN KEY (`dkid`) REFERENCES `desk` (`id`);